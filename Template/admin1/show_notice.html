{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>



<style>
body {
  font-family: sans-serif;
  background-color: #eeeeee;
}

.file-upload {
  background-color: #ffffff;
  width: 600px;
  margin: 0 auto;
  padding: 20px;
}

.file-upload-btn {
  width: 100%;
  margin: 0;
  color: #fff;
  background: #BA55D3;
  border: none;
  padding: 10px;
  border-radius: 4px;
  border-bottom: 4px solid #BA55D3;
  transition: all .2s ease;
  outline: none;
  text-transform: uppercase;
  font-weight: 700;
}

.file-upload-btn:hover {
  background: #BA55D3;
  color: #ffffff;
  transition: all .2s ease;
  cursor: pointer;
}

.file-upload-btn:active {
  border: 0;
  transition: all .2s ease;
}

.file-upload-content {
  display: none;
  text-align: center;
}

.file-upload-input {
  position: absolute;
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  outline: none;
  opacity: 0;
  cursor: pointer;
}

.image-upload-wrap {
  margin-top: 20px;
  border: 4px dashed #BA55D3;
  position: relative;
}

.image-dropping,
.image-upload-wrap:hover {
  background-color: #BA55D3;
  border: 4px dashed #ffffff;
}

.image-title-wrap {
  padding: 0 15px 15px 15px;
  color: #222;
}

.drag-text {
  text-align: center;
}

.drag-text h3 {
  font-weight: 100;
  text-transform: uppercase;
  color: #E6E6FA;
  padding: 60px 0;
}

.file-upload-image {
  max-height: 200px;
  max-width: 200px;
  margin: auto;
  padding: 20px;
}

.remove-image {
  width: 200px;
  margin: 0;
  color: #fff;
  background: #cd4535;
  border: none;
  padding: 10px;
  border-radius: 4px;
  border-bottom: 4px solid #b02818;
  transition: all .2s ease;
  outline: none;
  text-transform: uppercase;
  font-weight: 700;
}

.remove-image:hover {
  background: #c13b2a;
  color: #ffffff;
  transition: all .2s ease;
  cursor: pointer;
}

.remove-image:active {
  border: 0;
  transition: all .2s ease;
}

</style>


  <meta charset="utf-8" />
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Admin Dashboard
  </title>
  <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link href="{% static 'css/admin/material-dashboard.css' %}" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="{% static 'css/admin/demo.css' %}" rel="stylesheet" />
  <script type="text/javascript" src="/test/wp-content/themes/child/script/jquery.jcarousel.min.js"></script>
  <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js">
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
</head>

<body class="">
  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="white" data-image="../assets/img/sidebar-1.jpg">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

        Tip 2: you can also add an image using data-image tag
    -->
      <div class="logo"><a href="" class="simple-text logo-normal">
          Admin Dashboard
        </a></div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          
          <li class="nav-item ">
            <a class="nav-link" href="addnotice">
              <i class="material-icons">unarchive</i>
              <p>ADD NOTICE</p>
            </a>
          </li>

           <li class="nav-item active">
            <a class="nav-link" href="shownotices">
              <i class="material-icons">content_paste</i>
              <p>SHOW NOTICES</p>
            </a>
          </li>
		  
		  <li class="nav-item">
            <a class="nav-link" href="addStudent">
              <i class="material-icons">unarchive</i>
              <p>ADD STUDENTS</p>
            </a>
          </li>
		  
		  <li class="nav-item">
            <a class="nav-link" href="showstudent">
              <i class="material-icons">content_paste</i>
              <p>SHOW STUDENTS</p>
            </a>
          </li>
		  
		  <li class="nav-item">
            <a class="nav-link" href="uploadhomeimage">
              <i class="material-icons">unarchive</i>
              <p>UPLOAD HOME IMAGE</p>
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;">Show Announcement</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            
            <ul class="navbar-nav">
              
             <li>
                  <a class="dropdown-item" href="/">Home</a>
              </li>  
             
                  
             <li>     
                  <a class="dropdown-item" href="logout">Log out</a>
              </li>  
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="content">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-header card-header-primary">
                  <h4 class="card-title ">Show announcement</h4>
                  <p class="card-category">Here You Can See All The Added Announcement</p>
                </div>
                <br>
                
  <br><br>
  <input  id="myInput" style="width:300px; margin-left: 50px; margin-top: 50px;"  type="text" placeholder="Search..">
  <br>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table">
                      <thead class=" text-primary">
                        <th>
                          Title
                        </th>
                        <th>
                          Sub Title
                        </th>
                        <th>
                          Description
                        </th>
                        <th>
                          File
                        </th>
                        <th>
                          Delete
                        </th>
                        
                      </thead>
                      <tbody id="myTable">
                      {% for i in data %}
                        <tr>
                          <td>
                            {{i.title}}
                          </td>
                          <td>
                            {{i.subtitle}}
                          </td>
                          <td>
                             {{i.desc}}
                          </td>
                          <td>
                            <a href="media/{{i.file}}">Download</a>
                          </td>
                          <td class="text-primary">
                            <button   onclick="Deletenotice({{i.id}})"><i class="fa fa-trash"></i></button>
                          </td>
                          
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            
          </div>
        </div>
      </div>
  
  
 <script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
 <script>

 function Deletenotice(id) {
console.log(id);
 var csrftoken = Cookies.get('csrftoken');

  $.post('deleteNoticeData', {
        'id': id,
        'csrfmiddlewaretoken': csrftoken
      }, function (data, status) {
        location.reload(); 
      });

 }
 </script>
    
</body>

</html>